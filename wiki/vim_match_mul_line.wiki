%toc vim正则之多行匹配
%title vim正则之多行匹配
%template vim

=== 1. 正则表达式 ===
vim的正则表达式风格似乎是一种特有的风格，与POSIX正则和 PCRE 都不太一样，
虽然只是小异，不过我还是常常被这种山寨式的正则搞的晕头转向，

_好记性不如烂笔头，还是把一些特性记下来吧：_

- 非贪婪模式：贪婪模式用’*’，非贪婪模式就用’\{-}’
- 全字匹配：\< 匹配单词词首，\> 匹配单词词尾
- 多行匹配：“\_.”匹配任意单个字符和换行符，这样就可以匹配多行了
 
 
----

=== 2. 例子 ===
*应用实例：删除C code 里的多行注释——*

- 将注释替换成一个空行
`:%s/\/\*\_.\{-}\*\///g`
- 再将空行删除
`:g/^\s*$/d`
- 对于 # 开头的注释行，另行处理
`:g/^#/d`


*vi平时我们使用的匹配字符"."不能够匹配换行符号，所以我们没法使用它进行跨行匹配。*

如有以下数据：我们想查找所有在城市为beijing,年龄为18岁的人。

{{{class="brush:plain;"
name: A
city: beijing
age: 18
name:B
city:shanghai
age:15
name: C
city: beijing
age:18
}}}

此时的" *.* "就无能为力了，我们需要" *\_.* "
