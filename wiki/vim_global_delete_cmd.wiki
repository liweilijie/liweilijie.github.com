%toc vim 如何删除奇数行的解释
%title vim 如何删除奇数行的解释
%template vim

_PS:网上某位前辈对于g模式的很好的解释。_

`:h :g `
  
`:[range]g[lobal]/{pattern}/[cmd] `
  
  
g命令是VIM里最强大的命令，它的执行过程实际上是分成两步完成的：首先扫描 `[range]` 指定范围内的所有行，并给匹配 `{pattern}` 的行标记上；
然后才依次对打有标记的行执行 `[cmd]` 命令，如果被标记的行在对之前匹配行的命令操作中被删除、移动或合并，则其标记自动消失，而不对该行执行 `[cmd]` 命令。标记的概念很重要. 
  
好了，说完理论，再说你的实例，对操作`:g,^,s/^.*\n//`，其实跟下面的操作效果完全一样 

为了更简单地说明，就以下面为例了 

`:g/^/d|m. `
  
就会删除奇数行，执行过程就是：`g/^` 先标记所有的行，然后对每行执行 `d|m.`(注意有点)，先`d`，则删除了第一行，这时再执行`m.`（就是移动当前
行<此时当前行，也就是当前第一行，则是前面的第二行>，其实就是没有移动），`m.`这个动作则把`g/^`命令对以前第二行标记去掉了。所以不再
对以前的第二行执行`d`操作了。 
  
`:g,^,s/^.*\n//`中有‘`\n`'，这时实际‘当前行’已经到了下一行了，所以也就把下一行的标记给去掉了。于是删除奇数行的效果就出来了，若是`:g,^,s/^.*//`则就是删除所有行了.
