<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>liwei.tk</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="李伟">
		<meta name="author" content="李伟的维基">

		<!-- Le styles -->
		<link href="assets/css/bootstrap.css" rel="stylesheet">
		<link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
		<!-- display by liw for the padding at the top <link href="assets/css/docs.css" rel="stylesheet">-->
		<link href="assets/css/docs.css" rel="stylesheet">
		<link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Le fav and touch icons -->
		<link rel="shortcut icon" href="../assets/ico/favicon.ico">
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
		
		<link type="text/css" rel="stylesheet" href="syntaxhighlighter/css/shCore.css" /> 
		<link type="text/css" rel="stylesheet" href="syntaxhighlighter/css/shThemeRDark.css" /> 
		<script type="text/javascript" src="syntaxhighlighter/js/shCore.js"></script> 
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushPython.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushBash.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushCpp.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushPowerShell.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushXml.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushPlain.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/js/shBrushSql.js"></script>
		<script type="text/javascript">
			SyntaxHighlighter.defaults['gutter'] = true;
			SyntaxHighlighter.all();
			</script> 
			
		<!-- add the google analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-25233855-1']);
			_gaq.push(['_trackPageview']);

			(function() {
			 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			 })();

		 </script>

	</head>

	<body data-spy="scroll" data-target=".subnav" data-offset="50">

		<!-- <div class="span10 well pricehover">-->

		<!-- ==================== start navbar ================== -->
			<div class="navbar">
				<div class="navbar-inner">
					<div class="container-fuid">
					<!-- old is : <div class="container"> and fixed by to 'fuid style' -->
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="#">Liwei.tk</a>
						<div class="nav-collapse">
							<ul class="nav">
								<li class="active"><a href="index.html">Home</a></li>
								<!-- Program sub projects  -->
								<li class="dropdown">
								<a href="index.html#" class="dropdown-toggle" data-toggle="dropdown">Programs <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="c.html">C</a></li>
									<li><a href="cpp.html">Cpp</a></li>
									<li><a href="shell.html">Shell</a></li>
									<li class="divider"></li>
									<li class="nav-header">Others</li>
									<li><a href="python.html">Python</a></li>
									<li><a href="expect.html">Expect</a></li>
									<li><a href="vc.html">Vc</a></li>
								</ul>
								</li>
								<!-- Os sub projects  -->
								<li class="dropdown">
								<a href="index.html#" class="dropdown-toggle" data-toggle="dropdown">Os <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="linux.html">Linux</a></li>
									<li class="divider"></li>
									<li><a href="windows.html">Windows</a></li>
								</ul>
								</li>

								<!-- vim -->
								<li><a href="vim.html">Vim</a></li>
								<li><a href="#">Link</a></li>
								<li><a href="#">Link</a></li>
								<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#">Action</a></li>
									<li><a href="#">Another action</a></li>
									<li><a href="#">Something else here</a></li>
									<li class="divider"></li>
									<li class="nav-header">Nav header</li>
									<li><a href="#">Separated link</a></li>
									<li><a href="#">One more separated link</a></li>
								</ul>
								</li>
							</ul>
							<form class="navbar-search pull-left" action="">
								<input type="text" class="search-query span2" placeholder="Search">
							</form>
							<ul class="nav pull-right">
								<li><a href="#">Link</a></li>
								<li class="divider-vertical"></li>
								<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#">Action</a></li>
									<li><a href="#">Another action</a></li>
									<li><a href="#">Something else here</a></li>
									<li class="divider"></li>
									<li><a href="#">Separated link</a></li>
								</ul>
								</li>
							</ul>
						</div><!-- /.nav-collapse -->
					</div>
				</div><!-- /navbar-inner -->
			</div><!-- /navbar -->
		<!--</div>-->

	<div class="container">

		<!--span2 + span10 that's really content-->
		<div class="row">
			<div class="span10" data-spy="scroll" >
				<div class="gsearch"></div>
				<div class="content">
					
<h1>linux.用户管理</h1>
<div class="toc">
<ul>
<li><a href="#toc_0.1">1. 增加一个新用户</a>
<li><a href="#toc_0.2">2. 删除一个用户</a>
<li><a href="#toc_0.3">3. 修改用户属性</a>
<li><a href="#toc_0.4">4. 增加一个组</a>
<li><a href="#toc_0.5">5. 删除一个组</a>
<li><a href="#toc_0.6">6. 修改组成员</a>
</ul>
</ul>
</div>

<p>
用户管理，主要的工作就是建立一个合法的用户帐户、设置和管理用户的密码、修改用户帐户的属性以及在必要时删除已经废弃的用户帐号。 
</p>

<h2 id="toc_0.1">1. 增加一个新用户</h2>

<p>
在 <em>Linux</em> 系统中，只有 <strong>root</strong> 用户才能够创建一个新用户，如下的命令将新建一个登录名 <em>user1</em> 的用户。 
</p>

<p>
<code># useradd user1 </code>
</p>

<p>
但是，这个用户还不能够登录，因为还没给它设置初始密码，而没有密码的用户是不能够登录系统的。在默认情况下，将会在 <strong>/home</strong> 目录下新建一个与用户名相同的用户主目录。如果需要另外指定用户主目录的话，那么可以使用如下命令： 
</p>

<p>
<code># useradd -d /home/xf user1 </code>
</p>

<p>
同时，该用户登录时将获得一个Shell程序： <strong>/bin/bash</strong> ，而假如你不想让这个用户登录，也就可以指定该用户的Shell程序为： <strong>/bin/false</strong> ，这样该用户即使登录，也不能够执行Linux下的命令： 
</p>

<p>
<code># useradd -s /bin/false user1 </code>
</p>
 
<p>
在 <em>Linux</em> 中，新增一个用户的同时会创建一个新组，这个组与该用户同名，而这个用户就是该组的成员。如果你想让新的用户归属于一个已经存在的组，则可以使用如下命令： 
</p>

<p>
<code># useradd -g user user1 </code>
</p>

<p>
这样该用户就属于user组的一员了。而如果只是想让其再属于一个组，那么应该使用： 
</p>

<p>
<code># useradd -G user user1 </code>
</p>

<p>
完成了这一操作后，你还应该使用 <code>passwd user</code> 命令为其设置一个初始密码。 
</p>

<hr />

<h2 id="toc_0.2">2. 删除一个用户</h2>

<p>
删除用户，只需使用一个简单的命令 <code>userdel 用户名</code> 即可。
</p>

<p>
不过最好将它留在系统上的文件也删除掉，你可以使用 <code>userdel -r 用户名</code> 来实现这一目的。 
</p>

<hr />

<h2 id="toc_0.3">3. 修改用户属性</h2>

<p>
在前面我们看到了在新建一个用户的时候如何指定它的用户主目录，如何指定它的Shell，如何设置它所属的组…等等。 在Linux中提供了一个命令来实现： 
</p>

<p>
<code>usermod -g组名 -G 组名 -d 用户主目录 -s 用户Shell </code>
</p>

<p>
还有一种直接的方法，那就是修改 <strong>/etc/passwd</strong> 文件，在这个文件中每个用户占用一行，它的内容为： 
</p>

<p>
<code>用户名:密码:用户ID:组ID:用户全名:用户主目录:用户Shell</code>
</p>

<p>
不过值得注意的是，密码这一项通常是用一个*号代替的，你是看不到的。 
</p>

<hr />

<h2 id="toc_0.4">4. 增加一个组</h2>

<p>
还记得Linux的文件可以为同组的人、非同组的人设置不同的访问权限吗？我们可以根据自己的需要创建用户组： <code>groupadd 组名</code>
</p>

<hr />

<h2 id="toc_0.5">5. 删除一个组</h2>

<p>
同样的，我们有时会需要删除一个组，它的命令就是 <code>groupdel 组名</code>。 
</p>

<hr />

<h2 id="toc_0.6">6. 修改组成员</h2>

<p>
如果我们需要将一个用户加入一个组，只需编辑 <strong>/etc/group</strong> 文件，将用户名写到组名的后面。例如将 <em>newuser</em> 用户加入到 <em>softdevelop</em> 组，只需找到 <em>softdevelop</em> 这一行： <code>softdevelop:x:506:user1,user2</code>
然后在后面加上 <em>newuser</em> ，形成： <code>softdevelop:x:506:user1,user2,newuser</code>. 
</p>

<p>
另外，在Red Hat Linux中还提供一个图形化的用户管理工具： <em>userconf</em> ，通过它可以更直接地进行用户管理。 
</p>

				</div>
			</div>
		</div> <!-- really content end -->
		<div class="row footer">
			<hr />
			<a href="index.html">首页</a>
			<a href="#"> | 关于</a>
			<a href="#"> | 链接</a>
			<a href="#"> | 链接</a>
		</div>

	</div>

		<!-- Le javascript ================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<!-- display by liw <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>-->
		<!--<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>-->
		<script src="assets/js/jquery.js"></script>
		<script src="assets/js/liwei.js"></script>
		<script src="assets/js/google-code-prettify/prettify.js"></script>
		<script src="assets/js/bootstrap-transition.js"></script>
		<script src="assets/js/bootstrap-alert.js"></script>
		<script src="assets/js/bootstrap-modal.js"></script>
		<script src="assets/js/bootstrap-dropdown.js"></script>
		<script src="assets/js/bootstrap-scrollspy.js"></script>
		<script src="assets/js/bootstrap-tab.js"></script>
		<script src="assets/js/bootstrap-tooltip.js"></script>
		<script src="assets/js/bootstrap-popover.js"></script>
		<script src="assets/js/bootstrap-button.js"></script>
		<script src="assets/js/bootstrap-collapse.js"></script>
		<script src="assets/js/bootstrap-carousel.js"></script>
		<script src="assets/js/bootstrap-typeahead.js"></script>
		<script src="assets/js/application.js"></script>
		<script src="assets/js/liwei.js"></script>


	</body>
</html>
